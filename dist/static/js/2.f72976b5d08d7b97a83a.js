webpackJsonp([2],{"/0lJ":function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{inputcell:e("rXXD").a},data:function(){var a="",t="",e="";return CC.bank&&(a=CC.bank.bankName,t=CC.bank.branchName,e=CC.bank.cardNumber),{dBank:a,dSubBank:t,dCard:e,dTwoCard:"",dName:"",dIdenCard:"",dIsSaveP:!CC.bank}},methods:{_next:function(){var a=this;if(this.validate()){var t=['<div>开户行<span style="color: #727391;margin-left: 0.5rem;">'+this.dBank+"</span></div>",'<div>开户支行<span style="color: #727391;margin-left: 0.5rem;">'+this.dSubBank+"</span></div>",'<div>银行卡号<span style="color: #727391;margin-left: 0.5rem;">'+this.dCard+"</span></div>"].join("");this.util.confirm(t,"请核实并确认以下信息").then(function(){a.dIsSaveP?a._saveRealName(function(){a._saveBank(function(){a.$emit("next")})}):a._saveBank(function(){a.$emit("next")})})}},_saveBank:function(a){var t=this,e=this.util.loading("保存中");this.util.api.get("/saveOrUpdateBankInfo",{params:{bankName:this.dBank,branchName:this.dSubBank,cardNumber:this.dCard}}).then(function(i){i&&(i.result?(CC.bank={bankName:t.dBank,bankFilialeName:t.dSubBank,bankAccountNumber:t.dCard},a&&a()):(t.util.alert(i.message),e.close()))})},_saveRealName:function(a){var t=this,e=this.util.loading("保存中");this.util.api.get("/saveRealName",{params:{name:this.dName,identification:this.dIdenCard}}).then(function(i){i&&(i.result?a&&a():(t.util.alert(i.message),e.close()))})},validate:function(){return this.dBank?this.dSubBank?this.dCard?this.dCard!=this.dTwoCard?(this.util.alert("两次输入的银行卡号不一致，请重新输入"),!1):this.dName?!!this.dIdenCard||(this.util.alert("请输入身份证号"),!1):(this.util.alert("请输入姓名"),!1):(this.util.alert("请输入银行卡号"),!1):(this.util.alert("请输入开户支行"),!1):(this.util.alert("请输入开户行"),!1)}}},s={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"page-form"},[a._m(0),a._v(" "),e("div",{staticClass:"form-wrap"},[e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"开户行",placeholder:"请输入开户行"},model:{value:a.dBank,callback:function(t){a.dBank=t},expression:"dBank"}})],1),a._v(" "),e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"开户支行",placeholder:"请输入开户支行"},model:{value:a.dSubBank,callback:function(t){a.dSubBank=t},expression:"dSubBank"}})],1),a._v(" "),e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"银行卡号",placeholder:"请输入银行卡号"},model:{value:a.dCard,callback:function(t){a.dCard=t},expression:"dCard"}})],1),a._v(" "),e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"银行卡号确认",placeholder:"请输入银行卡号确认"},model:{value:a.dTwoCard,callback:function(t){a.dTwoCard=t},expression:"dTwoCard"}})],1),a._v(" "),a.dIsSaveP?e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:a.dName,callback:function(t){a.dName=t},expression:"dName"}})],1):a._e(),a._v(" "),a.dIsSaveP?e("div",{staticClass:"item-wrap"},[e("g-text",{attrs:{label:"身份证号",placeholder:"请输入身份证号"},model:{value:a.dIdenCard,callback:function(t){a.dIdenCard=t},expression:"dIdenCard"}})],1):a._e()]),a._v(" "),e("div",{staticClass:"form-btns"},[e("mt-button",{staticClass:"btn-next",attrs:{type:"primary",size:"large"},on:{click:a._next}},[a._v("下一步")])],1)])},staticRenderFns:[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"line-wrap"},[t("div",{staticClass:"line"}),this._v(" "),t("div",{staticClass:"text"},[this._v("填写收款信息")]),this._v(" "),t("div",{staticClass:"line"})])}]};var n=e("vSla")(i,s,!1,function(a){e("HQXG")},null,null).exports;t.default=n},HQXG:function(a,t){}});
//# sourceMappingURL=2.f72976b5d08d7b97a83a.js.map