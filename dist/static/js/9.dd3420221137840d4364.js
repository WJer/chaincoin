webpackJsonp([9],{iygP:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={components:{inputcell:n("rXXD").a},data:function(){return{dMobile:"18756032534",dCode:"5595",dCountdown:0,dCodeBtn:"发送验证码",I:null}},methods:{_next:function(){var t=this,e=this.util.loading("加载中...");this.util.api.post("/registerByPhone",{bitkeepId:CC.userid,phone:this.dMobile,code:this.dCode}).then(function(n){e.close(),n.result?CC.userid||(CC.userid=n.bitkeepId,t._fetch(function(){t.$router.push("/form/borrow")})):t.util.alert(n.message)})},_sendCode:function(t){var e=this;this.util.api.post("/sendMessageCode",{phone:this.dMobile}).then(function(){e.dCodeBtn="重新发送",e._runCountdown()})},_runCountdown:function(){var t=this;this.dCountdown=60,this.I=setInterval(function(){t.dCountdown--,0==t.dCountdown&&clearInterval(t.I)},1e3)},beforeDestroy:function(){clearInterval(this.I)},_fetch:function(t){this.util.api.all(this._getAjax()).then(this.util.api.spread(function(e,n,i){e&&(CC.settings=e.settings),n&&(CC.bank={bankName:n.bankName,branchName:n.branchName,cardNumber:n.cardNumber}),i&&(CC.coins=i.coins),t&&t()}))},_getAjax:function(){return[this.util.api.get("/getSettings"),this.util.api.get("/getBankInfo"),this.util.api.get("/getAllCoin")]}}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-form"},[t._m(0),t._v(" "),n("div",{staticClass:"form-wrap"},[n("div",{staticClass:"item-wrap"},[n("mt-field",{attrs:{label:"手机",type:"tel",placeholder:"请输入手机号"},model:{value:t.dMobile,callback:function(e){t.dMobile=e},expression:"dMobile"}})],1),t._v(" "),n("div",{staticClass:"item-wrap"},[n("mt-field",{attrs:{label:"验证码",type:"number",placeholder:"请输入验证码"},model:{value:t.dCode,callback:function(e){t.dCode=e},expression:"dCode"}}),t._v(" "),t.dCountdown?n("div",{staticClass:"btn-send"},[t._v(t._s(t.dCountdown)+"秒")]):n("div",{staticClass:"btn-send",on:{click:function(e){t._sendCode(e)}}},[t._v(t._s(t.dCodeBtn))])],1)]),t._v(" "),n("div",{staticClass:"form-btns"},[n("mt-button",{staticClass:"btn-next",attrs:{type:"primary",size:"large"},on:{click:t._next}},[t._v("下一步")])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line-wrap"},[e("div",{staticClass:"line"}),this._v(" "),e("div",{staticClass:"text"},[this._v("为完成借款，需绑定手机号")])])}]};var a=n("vSla")(i,s,!1,function(t){n("q0wD")},null,null).exports;e.default=a},q0wD:function(t,e){}});
//# sourceMappingURL=9.dd3420221137840d4364.js.map