webpackJsonp([4],{GtgZ:function(t,a){},oIR3:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("aA9S"),e=s.n(i),d={props:{data:{type:Object,required:!0},isLast:{type:Boolean,default:!1}},filters:{toFixed2:function(t){return Number(t).toFixed(2)}},data:function(){return{dData:this.data,dBank:null,dReadonly:!!this.data.address,dAddress:this.data.address}},created:function(){this._fetchManagerBank(),this.isLast?this._getAllRepayMoney():this.dData.overdue=1*this.dData.currentRepayMoney-1*this.dData.normalMoney},methods:{_click:function(){this.dReadonly=!1},_fetchManagerBank:function(){var t=this;this.util.api.get("/getManagerBank").then(function(a){a&&(t.dBank=a.bank)})},_saveAddress:function(){var t=this;this.dAddress?this.util.api.get("/saveUserToAddress",{params:{address:this.dAddress,coin:this.dData.coin}}).then(function(a){a&&a.result&&(t.dReadonly=!0,t.util.alert("保存地址成功！"))}):this.util.alert("不能为空")},_submitRepay:function(){var t=this;this.dAddress?this.dReadonly?this.util.api.get("/submitAllRepay",{params:{mortgageId:this.dData.mortgageId}}).then(function(a){a&&a.result&&(t.util.alert("请耐心等待，还款确认后将变更状态"),t.$emit("complete"))}):this.util.alert("请先点完成保存您的钱包地址！"):this.util.alert("请填写您的钱包地址！")},_getAllRepayMoney:function(){var t=this,a=this.util.loading("加载中");this.util.api.get("/getAllRepayMoney",{params:{mortgageId:this.dData.mortgageId}}).then(function(s){a.close(),s&&(t.dData=e()(t.dData,{currentRepayMoney:s.allMoney,money:s.principal,normalMoney:s.accrual,overdue:s.overdue}))})}}},l={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"page-pay"},[s("div",{staticClass:"white-space"}),t._v(" "),s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"card"},[s("div",{staticClass:"g-flex top"},[s("div",{staticClass:"g-flex_item"},[s("div",{staticClass:"tit"},[t._v("还款总额")]),t._v(" "),s("div",{staticClass:"total g-bold"},[t._v(t._s(t.dData.currentRepayMoney))])]),t._v(" "),s("div",{staticClass:"g-flex_item"},[t.isLast?s("div",{staticClass:"money-item"},[s("span",{staticClass:"g-left"},[t._v("本金")]),t._v(" "),s("span",{staticClass:"g-right"},[t._v(t._s(t.dData.money))])]):t._e(),t._v(" "),s("div",{staticClass:"money-item"},[s("span",{staticClass:"g-left"},[t._v("利息")]),t._v(" "),s("span",{staticClass:"g-right"},[t._v(t._s(t.dData.normalMoney))])]),t._v(" "),s("div",{staticClass:"money-item"},[s("span",{staticClass:"g-left"},[t._v("罚息")]),t._v(" "),s("span",{staticClass:"g-right"},[t._v(t._s(t._f("toFixed2")(t.dData.overdue)))])])])])]),t._v(" "),t.dBank?s("div",{staticClass:"card"},[s("div",{staticClass:"card-tit"},[t._v("打款信息")]),t._v(" "),s("div",{staticClass:"g-flex card-item"},[s("div",{staticClass:"g-flex_item"},[s("div",{staticClass:"tit"},[t._v("银行卡号")]),t._v(" "),s("div",{staticClass:"val cardno"},[t._v(t._s(t.dBank.cardnumber))])])]),t._v(" "),s("div",{staticClass:"g-flex card-item"},[s("div",{staticClass:"g-flex_item"},[s("div",{staticClass:"tit"},[t._v("姓名")]),t._v(" "),s("div",{staticClass:"val"},[t._v(t._s(t.dBank.name))])]),t._v(" "),s("div",{staticClass:"g-flex_item"},[s("div",{staticClass:"tit"},[t._v("开户行")]),t._v(" "),s("div",{staticClass:"val"},[t._v(t._s(t.dBank.bankname))])])])]):t._e(),t._v(" "),t.isLast?s("div",{staticClass:"card"},[s("div",{staticClass:"card-tit"},[t._v("收款信息")]),t._v(" "),s("div",{staticClass:"g-flex card-item"},[s("div",{staticClass:"g-flex_item"},[s("div",{staticClass:"tit"},[t._v("钱包地址")]),t._v(" "),s("div",{staticClass:"address-wrap"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dAddress,expression:"dAddress"}],staticClass:"val addres",attrs:{type:"text",placeholder:"请输入钱包地址",readonly:t.dReadonly},domProps:{value:t.dAddress},on:{input:function(a){a.target.composing||(t.dAddress=a.target.value)}}}),t._v(" "),t.dReadonly?t._e():s("span",{staticClass:"{disabled:!dAddress}",on:{click:t._saveAddress}},[t._v("完成")])])])]),t._v(" "),s("div",{staticClass:"tip"},[t._v("提示：全部返款后，数字货币将返还到该钱包地址")])]):t._e()]),t._v(" "),s("div",{staticClass:"g-flex btn-wrap"},[t.isLast?s("mt-button",{staticClass:"btn g-btn-thin",attrs:{type:"primary",size:"large"},on:{click:function(a){t.dReadonly=!1}}},[t._v("更改地址")]):t._e(),t._v(" "),s("mt-button",{staticClass:"btn",attrs:{type:"primary",size:"large"},on:{click:t._submitRepay}},[t._v("我已打款")])],1)])},staticRenderFns:[]};var n=s("vSla")(d,l,!1,function(t){s("GtgZ")},"data-v-d76e736c",null).exports;a.default=n}});
//# sourceMappingURL=4.3328d6aea371094fb2f1.js.map